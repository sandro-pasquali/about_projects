qx.$$packageData['256']={"locales":{},"resources":{"qx/icon/Tango/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-embarrassed.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-kiss.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-laugh.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-plain.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-raspberry.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-sad.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile-big.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-surprise.png":[22,22,"png","qx"],"showcase/virtuallist/imicons/christian_hagendorn.png":[52,64,"png","showcase"],"showcase/virtuallist/imicons/martin_wittemann.png":[52,52,"png","showcase"],"showcase/virtuallist/imicons/readme.txt":"showcase","showcase/virtuallist/imicons/status_away.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_busy.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_offline.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_online.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/tino_butz.png":[48,48,"png","showcase"],"showcase/virtuallist/imicons/tristan_koch.png":[73,73,"png","showcase"],"showcase/virtuallist/imicons/user_add.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/user_delete.png":[16,16,"png","showcase"]},"translations":{"C":{},"de":{},"de_AT":{},"de_DE":{},"en":{},"en_GB":{},"en_US":{},"es":{},"es_ES":{},"es_MX":{},"ro":{},"ro_RO":{},"sv":{},"sv_SE":{}}};
qx.Part.$$notifyLoad("256", function() {
(function(){var h="changeOpen",g="Boolean",f="changeCount",e="changeName",d="showcase.page.virtuallist.messenger.GroupModel",c="Friends",b="Integer",a="String";qx.Class.define(d,{extend:qx.core.Object,construct:function(name){qx.core.Object.call(this);if(name!==undefined){this.setName(name);};},properties:{name:{init:c,event:e,check:a},open:{check:g,init:true,event:h},count:{check:b,init:0,event:f}}});})();(function(){var r="_applyName",q="_applyCount",p="showcase.page.virtuallist.messenger.Group",o="Boolean",n="changeOpen",m="",l="(",k=")",j="click",i="dark-blue",c="middle",h="Integer",f="String",b="icon",a="white",e="bold",d="label",g="count";qx.Class.define(p,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this.set({backgroundColor:i,padding:[0,3]});this._setLayout(new qx.ui.layout.HBox(3).set({alignY:c}));this._add(this.getChildControl(b));this._add(this.getChildControl(d),{flex:1});this._add(this.getChildControl(g));},properties:{open:{check:o,event:n,init:true},name:{check:f,apply:r,init:m},count:{check:h,apply:q,init:0}},members:{_createChildControlImpl:function(s,t){var u;switch(s){case d:u=new qx.ui.basic.Label().set({allowGrowX:true,textColor:a,font:e});break;case b:u=new qx.ui.basic.Image();u.addListener(j,this._onClick,this);break;case g:u=new qx.ui.basic.Label().set({textColor:a,font:e});break;};return u||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,s);},_applyName:function(v,w){this.getChildControl(d).setValue(v);},_applyCount:function(x,y){this.getChildControl(g).setValue(l+x+k);},_onClick:function(event){this.toggleOpen();}}});})();(function(){var m="listitem",l="showcase.page.virtuallist.messenger.Buddy",k=".png",j="_applyAvatar",i="middle",h="_applyLabel",g="_applyStatus",f="showcase/virtuallist/imicons/status_",e="",d="icon",a="label",c="statusIcon",b="String";qx.Class.define(l,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this.set({padding:[0,3]});this._setLayout(new qx.ui.layout.HBox(3).set({alignY:i}));this._add(this.getChildControl(c));this._add(this.getChildControl(a),{flex:1});this._add(this.getChildControl(d));},properties:{appearance:{refine:true,init:m},name:{check:b,apply:h,init:e},avatar:{check:b,apply:j,init:e},status:{check:b,apply:g,init:e},gap:{themeable:true}},members:{_createChildControlImpl:function(n,o){var p;switch(n){case a:p=new qx.ui.basic.Label().set({allowGrowX:true});break;case d:p=new qx.ui.basic.Image().set({width:26,height:26,scale:true});break;case c:p=new qx.ui.basic.Image();break;};return p||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,n);},_applyLabel:function(q,r){this.getChildControl(a).setValue(q);},_applyAvatar:function(s,t){this.getChildControl(d).setSource(s);},_applyStatus:function(u,v){var w=f+u+k;this.getChildControl(c).setSource(w);}}});})();(function(){var k="User #",j="qooxdoo",h="Alexander Steitz",g=".png",f="kiss",e="changeStatus",d="icon/22/emotes/face-smile.png",c="embarrassed",b="showcase/virtuallist/imicons/christian_hagendorn.png",a="showcase/virtuallist/imicons/tino_butz.png",O="plain",N="smile-big",M="surprise",L="smile",K="raspberry",J="sad",I="showcase/virtuallist/imicons/martin_wittemann.png",H="changeGroup",G="Tino Butz",F="showcase/virtuallist/imicons/tristan_koch.png",r="changeAvatar",s="Daniel Wagner",p="showcase.page.virtuallist.messenger.BuddyModel",q="(unnamed)",n="Andreas Ecker",o="Christian Hagendorn",l="laugh",m="Thomas Herchenr√∂der",t="changeName",u="angel",x="icon/22/emotes/face-",w="Tristan Koch",z="Martin Wittemann",y="Friends",B="away",A="online",v="busy",E="offline",D="String",C="_applyEventPropagation";qx.Class.define(p,{extend:qx.core.Object,include:qx.data.marshal.MEventBubbling,properties:{name:{init:q,event:t,check:D,apply:C},avatar:{init:d,event:r,check:D,apply:C},status:{init:E,event:e,check:[B,v,A,E],apply:C},group:{init:y,event:H,check:D,apply:C}},statics:{createBuddies:function(P){var R=[{name:h,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:n,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:z,img:I,statusIcon:this.getRandomStatus()},{name:m,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:s,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:o,img:b,statusIcon:this.getRandomStatus()},{name:G,img:a,statusIcon:this.getRandomStatus()},{name:w,img:F,statusIcon:this.getRandomStatus()}];for(var i=0;i<R.length;i++){R[i].group=j;};for(var i=R.length;i<P;i++){R[i]={name:k+i,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus(),group:y};};var Q=[];for(var i=0;i<R.length;i++){var S=new showcase.page.virtuallist.messenger.BuddyModel().set({name:R[i].name,avatar:R[i].img,status:R[i].statusIcon,group:R[i].group});Q.push(S);};return new qx.data.Array(Q);},getRandomBuddy:function(){var T=[u,c,f,l,O,K,J,N,L,M];return x+T[Math.floor(Math.random()*T.length)]+g;},getRandomStatus:function(){var U=[B,v,A,E];return U[Math.floor(Math.random()*U.length)];}}});})();(function(){var k="_applyInterval",j="appear",i="interval",h="__iG",g="qx.ui.virtual.behavior.Prefetch",f="_applyScroller",e="qx.ui.virtual.core.Scroller",d="Integer",c="scroll",b="scrollbar-x",a="scrollbar-y";qx.Class.define(g,{extend:qx.core.Object,construct:function(l,m){{};qx.core.Object.call(this);this.setPrefetchX(m.minLeft,m.maxLeft,m.minRight,m.maxRight);this.setPrefetchY(m.minAbove,m.maxAbove,m.minBelow,m.maxBelow);this.__iG=new qx.event.Timer(this.getInterval());this.__iG.addListener(i,this._onInterval,this);if(l){this.setScroller(l);};},properties:{scroller:{check:e,nullable:true,init:null,apply:f},interval:{check:d,init:200,apply:k}},members:{__tE:null,__tF:null,__iG:null,__tG:null,__tH:null,setPrefetchX:function(n,o,p,q){this.__tE=[n,o,p,q];},setPrefetchY:function(r,s,t,u){this.__tF=[r,s,t,u];},_onInterval:function(){var v=this.__tE;if(v[1]&&v[3]){this.getScroller().getPane().prefetchX(v[0],v[1],v[2],v[3]);qx.ui.core.queue.Manager.flush();};var w=this.__tF;if(w[1]&&w[3]){this.getScroller().getPane().prefetchY(w[0],w[1],w[2],w[3]);qx.ui.core.queue.Manager.flush();};},_applyScroller:function(x,y){if(y){if(this.__tG){y.getChildControl(b).removeListenerById(this.__tG);};if(this.__tH){y.getChildControl(a).removeListenerById(this.__tH);};};if(x){if(!x.getContainerElement().getDomElement()){this.__iG.stop();x.addListenerOnce(j,this.__iG.start,this.__iG);}else {this.__iG.restart();};this.__tG=x.getChildControl(b).addListener(c,this.__iG.restart,this.__iG);this.__tH=x.getChildControl(a).addListener(c,this.__iG.restart,this.__iG);}else {this.__iG.stop();};},_applyInterval:function(z,A){this.__iG.setInterval(z);}},destruct:function(){this.setScroller(null);this.__tE=this.__tF=null;this._disposeObjects(h);}});})();(function(){var w="changeModel",v="changeOpen",u="progressive-table-row-background-even",t="row-layer",s="_applyModel",r="off",q="changeSelection",p="changeGroup",o="showcase.page.virtuallist.messenger.Roster",n="progressive-table-row-background-odd",f="auto",m="model",j="change",e="status",d="count",h="avatar",g="qx.data.Array",k="changeBubble",c="name",l="open";qx.Class.define(o,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);var z=new qx.ui.layout.VBox();this._setLayout(z);var x=this.list=new qx.ui.list.List();x.set({scrollbarX:r,scrollbarY:f,width:200,height:300,itemHeight:28,decorator:null,autoGrouping:false});x.setDelegate(this);this._add(x,{flex:1});this.initGroups(x.getGroups());this.initModel(new qx.data.Array());this.initSelection(x.getSelection());this.bind(m,x,m);var y=x.getChildControl(t);y.set({colorEven:u,colorOdd:n});new qx.ui.virtual.behavior.Prefetch(x,{minLeft:0,maxLeft:0,minRight:0,maxRight:0,minAbove:600,maxAbove:800,minBelow:600,maxBelow:800}).set({interval:500});},properties:{model:{check:g,event:w,apply:s,nullable:false,deferredInit:true},selection:{check:g,event:q,nullable:false,deferredInit:true},groups:{check:g,event:p,nullable:false,deferredInit:true}},members:{createItem:function(){return new showcase.page.virtuallist.messenger.Buddy();},createGroupItem:function(){return new showcase.page.virtuallist.messenger.Group();},bindItem:function(A,B,C){A.bindProperty(c,c,null,B,C);A.bindProperty(h,h,null,B,C);A.bindProperty(e,e,null,B,C);},bindGroupItem:function(D,E,F){D.bindProperty(c,c,null,E,F);D.bindProperty(d,d,null,E,F);D.bindProperty(l,l,null,E,F);D.bindPropertyReverse(l,l,null,E,F);},filter:function(G){return this.__tC(G.getGroup()).isOpen();},sorter:function(a,b){return a.getName()<b.getName()?-1:1;},group:function(H){return this.__tC(H.getGroup());},_applyModel:function(I,J){I.addListener(j,this.__tB,this);I.addListener(k,this.__tB,this);if(J!=null){J.removeListener(j,this.__tB,this);J.removeListener(k,this.__tB,this);};this.__tB();},__tB:function(event){var N=this.getModel();var M=this.getGroups();var O={};for(var i=0;i<M.getLength();i++){var L=M.getItem(i);O[L.getName()]=0;};for(var i=0;i<N.getLength();i++){var L=N.getItem(i).getGroup();if(O[L]==null){O[L]=1;}else {O[L]+=1;};};for(var name in O){var K=O[name];var L=this.__tC(name);L.setCount(K);};if(event&&event.getType()==k){this.list.refresh();};},__tC:function(name){var R=this.getGroups();var Q=null;for(var i=0;i<R.getLength();i++){var P=R.getItem(i);if(name==P.getName()){Q=P;break;};};if(Q==null){Q=new showcase.page.virtuallist.messenger.GroupModel(name);Q.addListener(v,this.__tD,this);R.push(Q);};return Q;},__tD:function(event){this.list.refresh();}}});})();(function(){var k="separator-vertical",j="Escape",i="Cancel",h="Group: ",g="Name:",f="Enter",d="source",c="Group:",b="selection[0]",a="showcase.page.virtuallist.Content",S="center",R="showcase/virtuallist/imicons/user_delete.png",Q="enabled",P="icon/16/actions/list-add.png",O="group",N="Name: ",M="keypress",L="selection.length",K="modelSelection",J="top",r="Contacts",s="Status: ",p="selection",q="Add",n="Contact Details",o="Add user",l="model",m="appear",t="avatar",u="showcase/virtuallist/imicons/user_add.png",B="left",z="Avatar: ",D="away",C="offline",F="value",E="online",w="icon",I="busy",H="selection[0].status",G="right",v="middle",x="name",y="",A="execute";qx.Class.define(a,{extend:showcase.AbstractContent,construct:function(T){showcase.AbstractContent.call(this,T);this.setView(this._createView());},members:{messenger:null,__tz:null,__tA:null,_createView:function(){var X=new qx.ui.window.Desktop(new qx.ui.window.Manager());var U=new qx.ui.window.Window(r);U.set({showClose:false,showMinimize:false,contentPadding:0});X.add(U);U.moveTo(250,20);U.open();var W=new qx.ui.layout.VBox();W.setSeparator(k);U.setLayout(W);this.messenger=new showcase.page.virtuallist.messenger.Roster();var V=showcase.page.virtuallist.messenger.BuddyModel.createBuddies(200);this.messenger.setModel(V);U.add(this.createToolbar());U.add(this.messenger,{flex:1});X.add(this.createDetailsView(),{left:20,top:20});return X;},createToolbar:function(){var toolbar=new qx.ui.toolbar.ToolBar();var bb=new qx.ui.toolbar.Part();toolbar.add(bb);var Y=new qx.ui.toolbar.Button(y,u).set({show:w});Y.addListener(A,this.showAddContactWindow,this);bb.add(Y);var ba=new qx.ui.toolbar.Button(y,R).set({show:w});this.messenger.bind(L,ba,Q,{converter:function(bc){return bc>0;}});ba.addListener(A,function(){this.messenger.getModel().remove(this.messenger.getSelection().getItem(0));},this);bb.add(ba);return bb;},createDetailsView:function(){var bg=new qx.data.controller.Object();this.messenger.bind(b,bg,l);var bd=new qx.ui.groupbox.GroupBox(n);var bh=new qx.ui.layout.Grid(5,5);bh.setColumnAlign(0,G,v);bd.setLayout(bh);bd.add(new qx.ui.basic.Label(N),{row:0,column:0});var bj=new qx.ui.form.TextField();bg.addTarget(bj,F,x,true);bd.add(bj,{row:0,column:1});bd.add(new qx.ui.basic.Label(h),{row:1,column:0});var be=new qx.ui.form.VirtualComboBox();be.setLabelPath(x);be.setModel(this.messenger.getGroups());bg.addTarget(be,F,O,true);bd.add(be,{row:1,column:1});bd.add(new qx.ui.basic.Label(s),{row:2,column:0});var bi=new qx.ui.form.SelectBox();bi.add(new qx.ui.form.ListItem(E).set({model:E}));bi.add(new qx.ui.form.ListItem(D).set({model:D}));bi.add(new qx.ui.form.ListItem(I).set({model:I}));bi.add(new qx.ui.form.ListItem(C).set({model:C}));this.messenger.bind(H,bi,K,{converter:function(bk){return [bk];}});bi.bind(p,this.messenger,H,{converter:function(bl){return bl[0].getModel();}});bd.add(bi,{row:2,column:1});bd.add(new qx.ui.basic.Label(z).set({alignY:J}),{row:3,column:0});var bf=new qx.ui.basic.Image().set({alignX:S,maxWidth:70,maxHeight:70,scale:true});bg.addTarget(bf,d,t);bd.add(bf,{row:3,column:1});return bd;},showAddContactWindow:function(){if(this.__tz==null){var bm=new qx.ui.layout.Grid(5,10);var bo=new qx.ui.window.Window(o,P);bo.set({width:165,height:100,showMinimize:false,showClose:false,showMaximize:false});bo.setLayout(bm);var br=new qx.ui.basic.Label(g);var bs=new qx.ui.form.TextField();var bp=new qx.ui.form.VirtualComboBox();bp.setLabelPath(x);bp.setModel(this.messenger.getGroups());var bn=new qx.ui.basic.Label(c);var bu=new qx.ui.form.Button(q);var bt=new qx.ui.form.Button(i);this.__tA=bs;bu.setAllowGrowX(false);bt.setAllowGrowX(false);bo.addListener(m,bs.focus,bs);bt.addListener(A,bo.close,bo);var bq=function(){var bv=new showcase.page.virtuallist.messenger.BuddyModel();bv.setName(bs.getValue());bv.setGroup(bp.getValue());this.messenger.getModel().push(bv);this.messenger.getSelection().setItem(0,bv);bo.close();};bu.addListener(A,bq,this);bo.addListener(M,function(e){var bw=e.getKeyIdentifier();if(bw==f){bq.call(this);}else if(bw==j){bo.close();};},this);bo.add(br,{row:0,column:0});bo.add(bs,{row:0,column:1,colSpan:2});bo.add(bn,{row:1,column:0});bo.add(bp,{row:1,column:1,colSpan:2});bo.add(bu,{row:2,column:1});bo.add(bt,{row:2,column:2});bm.setColumnAlign(0,B,v);bm.setColumnAlign(1,G,v);this.getView().add(bo,{left:270,top:40});this.__tz=bo;};this.__tA.setValue(y);this.__tz.open();},removeContact:function(){this.messenger.getModel().pop();}}});})();
});